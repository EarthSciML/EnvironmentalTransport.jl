<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API ¬∑ EnvironmentalTransport.jl</title><meta name="title" content="API ¬∑ EnvironmentalTransport.jl"/><meta property="og:title" content="API ¬∑ EnvironmentalTransport.jl"/><meta property="twitter:title" content="API ¬∑ EnvironmentalTransport.jl"/><meta name="description" content="Documentation for EnvironmentalTransport.jl."/><meta property="og:description" content="Documentation for EnvironmentalTransport.jl."/><meta property="twitter:description" content="Documentation for EnvironmentalTransport.jl."/><meta property="og:url" content="https://EarthSciML.github.io/EnvironmentalTransport.jl/api/"/><meta property="twitter:url" content="https://EarthSciML.github.io/EnvironmentalTransport.jl/api/"/><link rel="canonical" href="https://EarthSciML.github.io/EnvironmentalTransport.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">EnvironmentalTransport.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../advection/">Advection</a></li><li><a class="tocitem" href="../puff/">Puff Model</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#API-Documentation"><span>API Documentation</span></a></li></ul></li><li><a class="tocitem" href="../benchmarks/">üîó Benchmarks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EarthSciML/EnvironmentalTransport.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Index"><a class="docs-heading-anchor" href="#API-Index">API Index</a><a id="API-Index-1"></a><a class="docs-heading-anchor-permalink" href="#API-Index" title="Permalink"></a></h1><ul><li><a href="#EnvironmentalTransport.AdvectionOperator"><code>EnvironmentalTransport.AdvectionOperator</code></a></li><li><a href="#EnvironmentalTransport.BCArray"><code>EnvironmentalTransport.BCArray</code></a></li><li><a href="#EnvironmentalTransport.ZeroGradBC"><code>EnvironmentalTransport.ZeroGradBC</code></a></li><li><a href="#EnvironmentalTransport.ZeroGradBCArray"><code>EnvironmentalTransport.ZeroGradBCArray</code></a></li><li><a href="#EnvironmentalTransport.Puff-Tuple{EarthSciMLBase.DomainInfo}"><code>EnvironmentalTransport.Puff</code></a></li><li><a href="#EnvironmentalTransport.Sofiev2012PlumeRise-Tuple{}"><code>EnvironmentalTransport.Sofiev2012PlumeRise</code></a></li><li><a href="#EnvironmentalTransport.get_vf-Tuple{Any, AbstractString, Any}"><code>EnvironmentalTransport.get_vf</code></a></li><li><a href="#EnvironmentalTransport.get_Œî-Tuple{EarthSciMLBase.DomainInfo, Any, Any}"><code>EnvironmentalTransport.get_Œî</code></a></li><li><a href="#EnvironmentalTransport.stencil_size-Tuple{typeof(upwind1_stencil)}"><code>EnvironmentalTransport.stencil_size</code></a></li><li><a href="#EnvironmentalTransport.upwind1_stencil-NTuple{4, Any}"><code>EnvironmentalTransport.upwind1_stencil</code></a></li><li><a href="#EnvironmentalTransport.vf_x-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_x</code></a></li><li><a href="#EnvironmentalTransport.vf_y-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_y</code></a></li><li><a href="#EnvironmentalTransport.vf_z-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_z</code></a></li><li><a href="#EnvironmentalTransport.Œîf-Tuple{Any, Any}"><code>EnvironmentalTransport.Œîf</code></a></li></ul><h1 id="API-Documentation"><a class="docs-heading-anchor" href="#API-Documentation">API Documentation</a><a id="API-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-Documentation" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.AdvectionOperator" href="#EnvironmentalTransport.AdvectionOperator"><code>EnvironmentalTransport.AdvectionOperator</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Create an <code>EarthSciMLBase.Operator</code> that performs advection. Advection is performed using the given <code>stencil</code> operator (e.g. <code>l94_stencil</code> or <code>ppm_stencil</code>). <code>p</code> is an optional parameter set to be used by the stencil operator. <code>bc_type</code> is the boundary condition type, e.g. <code>ZeroGradBC()</code>.</p><p>Wind field data will be added in automatically if available. Currently the only valid source of wind data is <code>EarthSciData.GEOSFP</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L164">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.BCArray" href="#EnvironmentalTransport.BCArray"><code>EnvironmentalTransport.BCArray</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>An array with external indexing implemented for boundary conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/boundary_conditions.jl#L3-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.ZeroGradBC" href="#EnvironmentalTransport.ZeroGradBC"><code>EnvironmentalTransport.ZeroGradBC</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Zero gradient boundary conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/boundary_conditions.jl#L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.ZeroGradBCArray" href="#EnvironmentalTransport.ZeroGradBCArray"><code>EnvironmentalTransport.ZeroGradBCArray</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>An array with zero gradient boundary conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/boundary_conditions.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.Puff-Tuple{EarthSciMLBase.DomainInfo}" href="#EnvironmentalTransport.Puff-Tuple{EarthSciMLBase.DomainInfo}"><code>EnvironmentalTransport.Puff</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Puff(
    di::EarthSciMLBase.DomainInfo;
    buffer_cells,
    name
) -&gt; ModelingToolkit.ODESystem
</code></pre><p>Create a Lagrangian transport model which advects a &quot;puff&quot; or particle of matter within a fluid velocity field.</p><p>Model boundaries are set by the DomainInfo argument. The model sets boundaries at the ground and model bottom and top, preventing the puff from crossing those boundaries. If the puff reaches one of the horizontal boundaries, the simulation is stopped.</p><p><strong>Keyword arguments</strong></p><ul><li>buffer_cells: The distance (expressed in a number of DomainInfo grid cells) to use as a buffer around the horizontal edge of the domain to avoid data loader interpolation errors. The effective size of the domain will be reduce by 2√ó this amount (default = 1)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/puff.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.Sofiev2012PlumeRise-Tuple{}" href="#EnvironmentalTransport.Sofiev2012PlumeRise-Tuple{}"><code>EnvironmentalTransport.Sofiev2012PlumeRise</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Wildfire plume rise model based on Sofiev et al. (2012) [1].</p><p>[1] Sofiev, M., Ermakova, T., and Vankevich, R.: Evaluation of the smoke-injection height from wild-land fires using remote-sensing data, Atmos. Chem. Phys., 12, 1995‚Äì2006, https://doi.org/10.5194/acp-12-1995-2012, 2012.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/plume_rise/sofiev_2012.jl#L7-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.get_vf-Tuple{Any, AbstractString, Any}" href="#EnvironmentalTransport.get_vf-Tuple{Any, AbstractString, Any}"><code>EnvironmentalTransport.get_vf</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_vf(domain, varname, data_f)
</code></pre><p>Return a function that gets the wind velocity at a given place and time for the given <code>varname</code>. <code>data_f</code> should be a function that takes a time and three spatial coordinates and returns the value of the wind speed in the direction indicated by <code>varname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.get_Œî-Tuple{EarthSciMLBase.DomainInfo, Any, Any}" href="#EnvironmentalTransport.get_Œî-Tuple{EarthSciMLBase.DomainInfo, Any, Any}"><code>EnvironmentalTransport.get_Œî</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_Œî(domain, tff, pvaridx)
</code></pre><p>Return a function that gets the grid spacing at a given place and time for the given <code>varname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.stencil_size-Tuple{typeof(upwind1_stencil)}" href="#EnvironmentalTransport.stencil_size-Tuple{typeof(upwind1_stencil)}"><code>EnvironmentalTransport.stencil_size</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return the left and right stencil size of the first-order upwind stencil.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection_stencils.jl#L186-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.upwind1_stencil-NTuple{4, Any}" href="#EnvironmentalTransport.upwind1_stencil-NTuple{4, Any}"><code>EnvironmentalTransport.upwind1_stencil</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">upwind1_stencil(œï, U, Œît, Œîz; p)
</code></pre><p>First-order upwind advection in 1-D: https://en.wikipedia.org/wiki/Upwind_scheme.</p><ul><li>œï is the scalar field at the current time step, it should be a vector of length 3 (1 cell on the left, the central cell, and 1 cell on the right).</li><li>U is the velocity at both edges of the central grid cell, it should be a vector of length 2.</li><li>Œît is the length of the time step.</li><li>Œîz is the grid spacing.</li></ul><p>The output will be time derivative of the central index (i.e. index 2) of the œï vector (i.e. dœï/dt).</p><p><code>Œît</code> and <code>p</code> are not used, but are function arguments for consistency with other operators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection_stencils.jl#L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.vf_x-Tuple{Any, Any}" href="#EnvironmentalTransport.vf_x-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_x</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Get a value from the x-direction velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L80-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.vf_y-Tuple{Any, Any}" href="#EnvironmentalTransport.vf_y-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_y</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Get a value from the y-direction velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L92-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.vf_z-Tuple{Any, Any}" href="#EnvironmentalTransport.vf_z-Tuple{Any, Any}"><code>EnvironmentalTransport.vf_z</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Get a value from the z-direction velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L104-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnvironmentalTransport.Œîf-Tuple{Any, Any}" href="#EnvironmentalTransport.Œîf-Tuple{Any, Any}"><code>EnvironmentalTransport.Œîf</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>function to get grid deltas.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EarthSciML/EnvironmentalTransport.jl/blob/216838e5fec9f2b0217c08f67e9879966838a9d7/src/advection.jl#L143-L145">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../puff/">¬´ Puff Model</a><a class="docs-footer-nextpage" href="../benchmarks/">üîó Benchmarks ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Thursday 26 June 2025 12:33">Thursday 26 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
